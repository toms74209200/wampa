# Wampa 開発状況

## 現在の作業コンテキスト
- **作業中のファイル**: `tests/acceptance/steps.go`, `pkg/formatter/formatter.go`
- **実装中の機能**: ローカルファイル監視とフォーマット機能の受け入れテスト
- **関連するテスト**: `tests/acceptance/acceptance_test.go`
- **現在の課題**: なし

## エラーとバグ追跡
- **コンパイルエラー**: なし
- **テストエラー**: なし
- **リントエラー**: なし

## 実装ステータス
### 完了した機能
- [x] プロジェクト仕様書の作成 (spec.md)
- [x] 技術要件の定義 (requirements.md)
  - [x] TOML対応の課題を明確化し、暫定対応としてJSONを使用
- [x] 受入テスト定義 (features/*.feature)
- [x] プロジェクト構造の設定
  - [x] ディレクトリ構造の作成
  - [x] 主要インターフェースの定義
  - [x] 依存関係の確認
- [x] 設定ファイル処理
  - [x] 設定ファイル読み込み（JSONベース）
  - [x] テーブル駆動テストの実装
  - [ ] TOMLサポートへの移行（Go 2.0で導入予定のencoding/tomlパッケージ待ち）
- [x] ファイル監視モジュール
  - [x] ローカルファイル監視インターフェース定義
  - [x] fsnotifyを使用したローカルファイル監視実装
  - [x] ローカルファイル監視のテスト実装
  - [ ] リモートファイル監視
- [x] ファイル結合機能
  - [x] フォーマッターインターフェース設計
  - [x] Markdown対応フォーマット処理の実装
  - [x] フォーマッターのテスト実装
- [x] local_file_monitoring.featureの受け入れテスト実装

### 進行中の機能
- [ ] リモートファイル監視と結合機能
- [ ] config_file_handling.featureの実装

### 保留中の機能
- [ ] コマンドライン処理の実装
- [ ] TOMLサポートへの移行（標準ライブラリのencoding/tomlパッケージ対応待ち）

## メモと参考情報
- TOMLサポートについて：
  - Go 2.0でencoding/tomlパッケージが導入予定
  - 暫定対応としてJSONを使用し、後でTOMLに移行
  - 移行時の影響を最小限にするため、設定ファイル処理を独立したパッケージとして実装
- テストカバレッジ
  - config パッケージ: テーブル駆動テストで主要パスをカバー
  - watcher パッケージ: モックを使用したテストで複数のイベントケースをカバー
  - formatter パッケージ: テーブル駆動テストで実装完了
  - acceptance テスト: local_file_monitoring.featureの実装完了